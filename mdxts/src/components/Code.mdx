## Code Blocks

The `Code` component is automatically set up through the [Next.js plugin](/packages/next) and is used to highlight code blocks. Alternatively, you can define custom MDX components in a top-level `mdx-components.tsx` file:

```tsx filename="mdx-components.tsx"
import type { MDXComponents } from 'mdx/types'
import { Code } from 'mdxts/components'

export function useMDXComponents() {
  return {
    code: (props) => {
      if (typeof props.children === 'string') {
        return <Code inline value={props.children} />
      }
      return <code {...props} />
    },
  } satisfies MDXComponents
}
```

Use the `source` prop to render a code block from a source file. For example, the following MDX:

```mdx filename="Counter.mdx"
<Code source="./counter/Counter.tsx" />
```

Will produce a code block with the contents of `./counter/Counter.tsx`:

<Code allowErrors source="./counter/Counter.tsx" />
