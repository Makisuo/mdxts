export const metadata = {
  title: 'Writing',
}

# Writing Examples

Examples can be written inline, exported alongside your component, or in a separate file.

## Module

Module examples can be exported alongside your component using the [[example]] helper:

```tsx filename="Button.tsx"
import { example } from 'mdxts'

/** Used for taking actions and navigating. */
export function Button({
  label,
  onAction,
}: {
  /** Provides a label for the button. */
  label: string

  /** The size of the button. */
  size?: 'small' | 'medium' | 'large'

  /** Called when an action for this button is requested. */
  onAction: () => void
}) {
  return <button onClick={onAction}>{label}</button>
}

example(() => <Button label="Say hello" onAction={() => alert('Hello!')} />)
```

{/* TODO: need a bundler-aware way of stripping out the `example` calls */}

## Extension

Multiple examples can be exported using the `examples` extension:

```
Button.tsx
Button.examples.tsx
```

```tsx
import { Button } from './Button'

export function BasicUsage() {
  return <Button label="Say hello" onAction={() => alert('Hello!')} />
}

export function DifferentSizes() {
  return ['small', 'medium', 'large'].map((size) => (
    <Button label="Say hello" size={size} />
  ))
}
```

## Directory

Examples can be grouped into into a directory:

```
Button/
├── index.tsx
├── examples/
│ ├── 01.Basic.tsx
│ ├── 02.Advanced.tsx
```

## Templating

Export a default component to enhance examples with additional rendering, behavior, or to provide a consistent layout for all examples in the file:

```tsx highlight="4-10"
import { Button } from './Button'
import { Theme } from './Theme'

export default function Layout({ children }: { children: React.ReactNode }) {
  return <Theme>{children}</Theme>
}

export function BasicUsage() {
  return <Button label="Say hello" onAction={() => alert('Hello!')} />
}

export function DifferentSizes() {
  return ['small', 'medium', 'large'].map((size) => (
    <Button label="Say hello" size={size} />
  ))
}
```

<Note>
  This is also how MDX files work. The default export is used to control the
  layout of the file.
</Note>

Refer to the next section on [rendering](./02.rendering.mdx) to learn how to use the data helper to render examples as routes.

## Metadata

Metadata is auto-generated based on the example's function name and its accompanying comment. Use the default export to provide additional metadata for the file:

```tsx highlight="3-4,12-13,22-23"
import { Button } from './Button'

/** A collection of examples for the button component. */
export default function AllButtonExamples({
  children,
}: {
  children: React.ReactNode
}) {
  return children
}

/** A basic example of using a button. */
export function BasicUsage() {
  return <Button label="Say hello" onAction={() => alert('Hello!')} />
}

/** An example of using a button with different sizes. */
export function DifferentSizes() {
  return ['small', 'medium', 'large'].map((size) => (
    <Button label="Say hello" size={size} />
  ))
}
```
